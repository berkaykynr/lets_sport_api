// schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id                String  @id @unique @default(cuid())
  first_name        String
  last_name         String
  username          String  @unique
  password          String
  email             String  @unique
  phone             String? @unique
  address           String?
  branches          Json?
  sex               String?
  profile_photo     String?
  photos            String?
  rate              Int?    @default(0)
  birthyear         String?
  resetPasswordCode String?
  is_validated      Boolean @default(false)
  is_premium        Boolean @default(false)
  events            Event[]
}

model TurkeyAddress {
  id   String @id @unique @default(cuid())
  city Json?
}

enum Branches {
  Football
  Volleyball
  Basketball
  Handball
  Fitness
  Athletics
  Judo
  Swimming
  Wrestling
  Taekwondo
  Tennis
  Karate
  Archery
  Boxing
  Badminton
  Yoga
  MuayThai
  Fencing
  Aikido
  Trekkig
}

model Event {
  id           String    @id @unique @default(cuid())
  eventDate    DateTime
  updatedAt    DateTime? @updatedAt
  createdAt    DateTime? @default(now())
  participants Json?
  owner        User      @relation(fields: [username], references: [id])
  latitude     String
  longitude    String
  address      String
  branch       String
  description  String?
  username     String
}
